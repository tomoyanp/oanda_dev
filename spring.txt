■ファイルアップロード

Bean定義
<bean id ="multipartResolver" class="org.springframework.web.multipart.commons.CommonsMultipartResolver" />

JSP
<form action="urlForUpload" method="post" envtype="multipart/form-data">
<input type="file" name="uploadFile">
  <button type="submit">Upload</button>
</form>


@RequestMapping(value = "/urlForUpload", method = RequestMethod.POST)
public String uploadFile(@RequestParam("uploadFile") MultipartFile multipartFile) throws IOException {
  String filename = multipartFile.getOriginalFilename();
  long size = multipartFile.getSize();
  multipartFile.transferTo(new File("/file/"));

  System.out.println(filename);
  System.out.println(size);

  return "/";
}

■RestController＆Json

pom.xml
<dependency>
	<groupId>org.codehaus.jackson</groupId>
	<artifactId>jackson-core-asl</artifactId>
	<version>1.6.4</version>
</dependency>
<dependency>
	<groupId>org.codehaus.jackson</groupId>
	<artifactId>jackson-mapper-asl</artifactId>
	<version>1.6.4</version>
</dependency>


@RestController
public class RestfulController {

  @RequestMapping(value = "/api/xml/", produces = "application/xml")
  public String getXml(){
    return "<hoge><moge>hogemoge</moge></hoge>"
//    return "<hoge><moge>hogemoge</moge>"        
//           ↑XML形式じゃないとどうなる？
  }
}



